<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>SF movie filming locations</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      body { padding-top: 70px; }
      #map-content {
        height: calc(100% - 95px);
        padding-top: 0x;
      }
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #list-elems {
      	max-height: calc(100vh - 145px);
      	overflow-y: scroll;
      }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  </head>
  <body>
  
  <nav class="navbar navbar-default navbar-static-top">
  <div class=".container-fluid">
  <div class="navbar-header">
      <a class="navbar-brand" href="#">
        <img alt="San Fransisco movie filming locations" src="...">
      </a>
    </div>
    </div>
</nav>

<div class="col-md-3">
<div class="form-group">
    <input type="text" class="form-control" id="exampleInputEmail1" placeholder="Search by ...">
  </div>
  <div class="list-group" id="list-elems">
  <a href="#" class="list-group-item">
    <h4 class="list-group-item-heading">180</h4>
    <p class="list-group-item-text">City hall, Epic Roasthouse</p>
  </a>
  <a href="#" class="list-group-item">
    <h4 class="list-group-item-heading">24 hours on Craigslist</h4>
  </a>
  <a href="#" class="list-group-item">
    <h4 class="list-group-item-heading">40 days and 40 nights</h4>
    <p class="list-group-item-text">Café Trieste</p>
  </a>
  <a href="#" class="list-group-item">
    <h4 class="list-group-item-heading">48 hours</h4>
  </a>
  <a href="#" class="list-group-item">
    <h4 class="list-group-item-heading">50 First dates</h4>
    <p class="list-group-item-text">Rainforest café</p>
  </a>
  <a href="#" class="list-group-item">
    <h4 class="list-group-item-heading">About a boy</h4>
    <p class="list-group-item-text">Crissy field</p>
  </a>
  <a href="#" class="list-group-item">
    <h4 class="list-group-item-heading">About a boy</h4>
    <p class="list-group-item-text">Crissy field</p>
  </a>
  <a href="#" class="list-group-item">
    <h4 class="list-group-item-heading">About a boy</h4>
    <p class="list-group-item-text">Crissy field</p>
  </a>
  <a href="#" class="list-group-item">
    <h4 class="list-group-item-heading">About a boy</h4>
    <p class="list-group-item-text">Crissy field</p>
  </a>
  <a href="#" class="list-group-item">
    <h4 class="list-group-item-heading">About a boy</h4>
    <p class="list-group-item-text">Crissy field</p>
  </a>
  <a href="#" class="list-group-item">
    <h4 class="list-group-item-heading">About a boy</h4>
    <p class="list-group-item-text">Crissy field</p>
  </a>
  <a href="#" class="list-group-item">
    <h4 class="list-group-item-heading">About a boy</h4>
    <p class="list-group-item-text">Crissy field</p>
  </a>
<a href="#" class="list-group-item">
    <h4 class="list-group-item-heading">About a boy</h4>
    <p class="list-group-item-text">Crissy field</p>
  </a>
  <a href="#" class="list-group-item">
    <h4 class="list-group-item-heading">About a boy</h4>
    <p class="list-group-item-text">Crissy field</p>
  </a>
<a href="#" class="list-group-item">
    <h4 class="list-group-item-heading">About a boy</h4>
    <p class="list-group-item-text">Crissy field</p>
  </a>
</div>
</div>

<div class="col-md-9" id="map-content">
<div class="panel panel-default" id="map"></div>
<div class="panel panel-default" style="position:absolute; top:15px; right: 30px">
  <div class="panel-heading">
    <h3 class="panel-title">180</h3>
  </div>
  <div class="panel-body">
    <table class="table table-condensed">
  <tr>
    <th>Location</th>
    <td>City hall, Epic Roasthouse</td>
  </tr>
  <tr>
    <th>Year</th>
    <td>2011</td>
  </tr>
  <tr>
    <th>Prod. company</th>
    <td>SPI Cinemas</td>
  </tr>
  <tr>
    <th>Director</th>
    <td>Jayendra</td>
  </tr>
<tr>
    <th>Actors</th>
    <td>Siddarth, Nithya Menon</td>
  </tr>
</table>
  </div>
</div>
</div>

    
    <script>
    

      function initMap() {

			$.getJSON("movies.json", function(json) {
		
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 11,
          center: {lat: 37.80, lng: -122.33},
        });
        var geocoder = new google.maps.Geocoder();


        // Add some markers to the map.
        // Note: The code uses the JavaScript Array.prototype.map() method to
        // create an array of markers based on a given "locations" array.
        // The map() method here has nothing to do with the Google Maps API.
        function createMarkers() {
         var markers = [];
        	json['data'].forEach(function(movie, i) {
          geocoder.geocode( { 'address': movie[10]}, function(results, status) {
      			if (status == 'OK') {
        				markers.push(new google.maps.Marker({
            position: results[0].geometry.location,
            map: map,
            title: movie[8]
        }));
      } else {
        console.log('Geocode was not successful for the following reason: ' + status);
      }
    });

        });
        
        return markers;
        };
        
        createMarkers();

        // Add a marker clusterer to manage the markers.
        //var markerCluster = new MarkerClusterer(map, createMarkers(),
        //    {imagePath: 'markerclusterer/m'});
        //    
        });
      }
      
      
    </script>
    <script src="markerclusterer/markerclusterer.js">
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAJeTiHs5qcrJw8EOxdIODgCH2zWca9tfo&callback=initMap">
    </script>
  </body>
</html>